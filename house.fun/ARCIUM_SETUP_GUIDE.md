# Arcium Integration - Setup Guide

## üéØ Quick Summary

**Good News**: You can develop and test **without** an Arcium API key using our **Mock Mode**!

**For Production**: You'll need to get Arcium credentials before deploying.

---

## üöÄ Two Ways to Use Arcium

### Option 1: Mock Mode (Development) ‚úÖ RECOMMENDED FOR NOW
**No API key required!**

The app automatically uses mock mode when `NEXT_PUBLIC_ARCIUM_API_KEY` is not set.

**What Mock Mode Does:**
- Generates cryptographically secure random outcomes using Web Crypto API
- Creates valid proof structures that pass smart contract validation
- Simulates network delays for realistic UX
- Works completely offline

**Limitations:**
- Not "provably fair" in the cryptographic sense (just regular random)
- For development and demo purposes only
- Must switch to real Arcium for production

**To Use Mock Mode:**
```bash
# Just don't set the API key
# .env.local:
# NEXT_PUBLIC_ARCIUM_API_KEY=   (leave empty or comment out)
```

---

### Option 2: Real Arcium Network (Production)
**Requires API key and setup**

#### Step 1: Get Arcium Access

**Method A: Join Arcium Discord (Fastest)**
1. Join: https://discord.gg/arcium
2. Go to #general or #support channel
3. Ask: "Need devnet API key for Play Solana hackathon project"
4. They typically respond within 24 hours

**Method B: Public Testnet (Current Status)**
- Arcium launched **Public Testnet** on April 30, 2025
- Visit: https://www.arcium.com/testnet
- Follow the onboarding process
- May have limited slots available

**Method C: Private Testnet Cohort**
- Apply for Cohort 2: https://www.arcium.com/articles/announcing-private-testnet-cohort-2-for-solana-builders
- Requires application but gets you priority access
- Best for hackathon participants

#### Step 2: Install Arcium CLI

```bash
# On Mac/Linux:
curl -L https://arcium.com/install | bash

# Or install via npm:
npm install -g @arcium-hq/cli
```

#### Step 3: Set Up Your Project

```bash
# Create a new Arcium MXE project
arcium init house-fun-arcium

# Or integrate with existing project
cd house-fun-app
arcium init --skip-git
```

#### Step 4: Configure Environment

```bash
# .env.local
NEXT_PUBLIC_ARCIUM_API_KEY=your_api_key_here
NEXT_PUBLIC_ARCIUM_NETWORK=devnet
```

#### Step 5: Deploy Computation Programs

```bash
# Build your Arcium programs
arcium build

# Deploy to devnet
arcium deploy --cluster devnet

# Initialize computation definitions
arcium execute init_flip_it_comp_def --cluster devnet
```

---

## üìä Comparison: Mock vs Real Arcium

| Feature | Mock Mode | Real Arcium |
|---------|-----------|-------------|
| **Randomness Source** | Web Crypto API | MPC in TEE (Trusted Execution Environment) |
| **Provably Fair** | ‚ùå No | ‚úÖ Yes |
| **Needs Internet** | ‚ùå No | ‚úÖ Yes |
| **API Key** | ‚ùå No | ‚úÖ Yes |
| **Network Delay** | Simulated (~500ms) | Real (~2-5 seconds) |
| **Smart Contract** | Accepts proofs | Verifies proofs |
| **Production Ready** | ‚ùå No | ‚úÖ Yes |
| **Hackathon Demo** | ‚úÖ Perfect | ‚úÖ Better |

---

## üîß Testing Your Setup

### Test Mock Mode
```bash
# 1. Ensure no API key is set
grep ARCIUM_API_KEY .env.local
# Should return nothing or empty value

# 2. Start dev server
npm run dev

# 3. Open browser console
# Should see: "‚ö†Ô∏è ARCIUM MOCK MODE ACTIVE ‚ö†Ô∏è"

# 4. Play Flip It game
# Should work normally with random outcomes
```

### Test Real Arcium (Once You Have Credentials)
```bash
# 1. Add API key to .env.local
echo "NEXT_PUBLIC_ARCIUM_API_KEY=your_key" >> .env.local

# 2. Restart dev server
# Should NOT see mock mode warning

# 3. Play Flip It game
# Outcomes now generated by Arcium network
```

---

## üé™ Hackathon Strategy

### For Demo Day (Feb 18)

**Option A: Use Mock Mode** ‚úÖ RECOMMENDED
- Pros: Works reliably, no dependencies, fast
- Cons: Not "provably fair" technically
- **Judges will understand** - you have the architecture ready

**Option B: Real Arcium** 
- Pros: True provably fair gaming
- Cons: Requires working API key and network
- Risk: Network issues could affect demo

### Our Recommendation:
1. **Develop with Mock Mode** (fast iteration)
2. **Apply for Arcium access** (do it now!)
3. **If credentials arrive before Feb 18**: Switch to real mode
4. **If not**: Demo with mock mode, show Arcium architecture

**Judges care about:**
- ‚úÖ Working game
- ‚úÖ Clean architecture
- ‚úÖ Ready for real Arcium integration
- ‚ö†Ô∏è Not whether you're using mock or real for demo

---

## üÜò Troubleshooting

### "Arcium client not initialized" Error
**Cause**: API key is set but invalid
**Fix**: Either remove API key (use mock) or set valid key

### Smart Contract Rejects Proofs
**Cause**: Program ID mismatch or wrong network
**Fix**: 
```bash
# Redeploy smart contract
anchor deploy --provider.cluster devnet

# Update program ID in src/lib/anchor/idl.ts
```

### "Computation timeout" Error
**Cause**: Arcium network busy or offline
**Fix**: Use mock mode for development, try real network later

---

## üìö Resources

- **Arcium Docs**: https://docs.arcium.com/developers
- **TypeScript SDK**: https://ts.arcium.com/
- **Hello World Tutorial**: https://docs.arcium.com/developers/hello-world
- **Testnet Info**: https://www.arcium.com/testnet
- **Discord**: https://discord.gg/arcium
- **GitHub Examples**: https://github.com/arcium-hq/examples/

---

## ‚úÖ Action Items for You

### Immediate (Today):
- [ ] Join Arcium Discord: https://discord.gg/arcium
- [ ] Introduce yourself in #general: "Building casino for Play Solana hackathon"
- [ ] Ask for devnet access

### This Week:
- [ ] Continue development with Mock Mode
- [ ] Test Flip It game thoroughly
- [ ] Work on other games (Degen Derby, Shadow Poker)

### If Arcium Access Arrives:
- [ ] Install Arcium CLI
- [ ] Deploy Arcium computation programs
- [ ] Switch from mock to real mode
- [ ] Test on devnet

### Before Feb 18:
- [ ] Decide: Mock or Real mode for demo
- [ ] Practice demo flow
- [ ] Prepare backup plan

---

## üé≤ Current Status

**‚úÖ READY TO DEVELOP!**

You can build the entire casino using Mock Mode right now. The architecture supports both modes, so switching to real Arcium later is just a matter of adding an API key.

**No blockers. Keep building!** üöÄ
